<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Anniversary!</title>
    <style>
        body { font-family: 'Arial', sans-serif; text-align: center; background-color: #ffe6e6; color: #333; }
        .container { max-width: 600px; margin: auto; padding: 20px; }
        .grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-top: 20px; }
        
        /* The Treasure Chest Design */
        .chest {
            width: 80px; height: 60px; background: #8B4513; margin: auto;
            border-radius: 5px; cursor: pointer; display: flex;
            align-items: center; justify-content: center; font-size: 24px;
            transition: transform 0.2s; border: 3px solid #5D2E0C;
        }
        .chest:active { transform: scale(0.9); }
        .chest.open { background: #D2B48C; }
        
        .hidden { display: none; }
        .message { font-size: 1.5rem; color: #d63384; margin-top: 20px; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <h1 id="level-title">Level 1: Find the first key</h1>
    <p id="instruction">Tap a chest to look inside!</p>

    <div id="game-grid" class="grid"></div>

    <div id="final-msg" class="hidden">
        <h1>üíï I love youu! üíï</h1>
        <p>You found em all!</p>
        <p>Happy Anniversary! üíñ</p>
    </div>
</div>

<script>
    let currentLevel = 1;
    const grid = document.getElementById('game-grid');
    const title = document.getElementById('level-title');

    function startLevel(level) {
        grid.innerHTML = '';
        let numChests, keyIndex;

        if (level === 1) {
            numChests = 6;
            keyIndex = 3; // 4th box (0-indexed)
        } else if (level === 2) {
            numChests = 12;
            keyIndex = 10; // 11th box
        } else if (level === 3) {
            numChests = 3;
            keyIndex = Math.floor(Math.random() * 3); // Randomly 0, 1, or 2
        }

        for (let i = 0; i < numChests; i++) {
            const chest = document.createElement('div');
            chest.classList.add('chest');
            chest.innerText = "üì¶"; // Closed chest icon
            
            chest.onclick = () => {
                if (i === keyIndex) {
                    chest.innerText = "üîë";
                    chest.classList.add('open');
                    setTimeout(() => nextLevel(), 1000);
                } else {
                    chest.innerText = "‚ùå";
                    chest.style.backgroundColor = "#ccc";
                }
            };
            grid.appendChild(chest);
        }
    }

    function nextLevel() {
        currentLevel++;
        if (currentLevel === 2) {
            title.innerText = "Level 2: 12 Chests, 1 Key!";
            startLevel(2);
        } else if (currentLevel === 3) {
            title.innerText = "Level 3: The Final Key (Random!)";
            startLevel(3);
        } else {
            document.getElementById('game-grid').classList.add('hidden');
            document.getElementById('level-title').classList.add('hidden');
            document.getElementById('instruction').classList.add('hidden');
            document.getElementById('final-msg').classList.remove('hidden');
        }
    }

    // Start the game
    startLevel(1);
</script>
</body>
</html>

